<form class="size-matters-form">
  <!-- Grid Selection -->
  <div class="grid-container">
    {{{gridSVG}}}
  </div>

  <!-- Image Controls -->
  <div class="section">
    <!-- Browse e Presets lado a lado -->
    <div class="button-row">
      <button type="button" class="file-picker-button">
        <i class="fas fa-folder-open"></i> Browse Image
      </button>
      <button type="button" class="preset-manager-button">
        <i class="fas fa-th-large"></i> Presets
      </button>
    </div>
    
    <div class="control-row">
      <label>Scale:</label>
      <input type="range" class="slider" name="imageScale" min="0.1" max="3.0" step="0.1" value="{{imageScale}}">
      <span class="value" id="sval">{{imageScale}}</span>
    </div>
    <div class="control-row">
      <label>X:</label>
      <input type="range" class="slider" name="imageOffsetX" min="-200" max="200" value="{{imageOffsetX}}">
      <span class="value" id="xval">{{imageOffsetX}}</span>
    </div>
    <div class="control-row">
      <label>Y:</label>
      <input type="range" class="slider" name="imageOffsetY" min="-200" max="200" value="{{imageOffsetY}}">
      <span class="value" id="yval">{{imageOffsetY}}</span>
    </div>
    <div class="control-row">
      <label>Rotation:</label>
      <input type="range" class="slider" name="imageRotation" min="-180" max="180" value="{{imageRotation}}">
      <span class="value" id="rval">{{imageRotation}}</span>
    </div>
  </div>

  <!-- Appearance Controls -->
  <div class="section">
    <div class="control-row">
      <label>Outline:</label>
      <input type="color" class="color-input" name="color" value="{{color}}">
      <input type="range" class="slider" name="thickness" min="1" max="10" value="{{thickness}}">
      <span class="value" id="tval">{{thickness}}</span>
    </div>
    <div class="control-row">
      <label>Fill:</label>
      <input type="color" class="color-input" name="fillColor" value="{{fillColor}}">
      <input type="range" class="slider" name="alpha" min="0.1" max="1" step="0.1" value="{{alpha}}">
      <span class="value" id="aval">{{alpha}}</span>
    </div>
    <div class="checkbox-row">
      <label><input type="checkbox" name="enableContour" {{#if enableContour}}checked{{/if}}> Outline</label>
      <label><input type="checkbox" name="enableFill" {{#if enableFill}}checked{{/if}}> Fill</label>
      <label><input type="checkbox" name="imageVisible" {{#if imageVisible}}checked{{/if}}> Image</label>
      <label><input type="checkbox" name="gridVisible" {{#if gridVisible}}checked{{/if}}> Grid</label>
    </div>
  </div>

  <!-- Action Buttons - Ride e Clear All lado a lado -->
  <div class="actions">
    <button type="button" class="action-btn ride-button">
      <i class="fas fa-horse"></i> Ride
    </button>
    <button type="button" class="action-btn clear-button">
      <i class="fas fa-eraser"></i> Clear All
    </button>
  </div>
</form>